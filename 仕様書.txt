# Webアプリ仕様書：超長文お気持ち投稿画像メーカー

## 1. アプリ概要

SNSの文字数制限（140字など）を気にすることなく、長文のテキストを一枚の縦長の画像として生成・出力するためのWebアプリケーション。ユーザーは、テキストを貼り付けてボタンを押すだけで、誰でも簡単に「お気持ち表明画像」や「長文マニュアル画像」を作成できる。

---

## 2. 開発目標

- モダンなWeb技術（HTML, CSS, JavaScript）のみを使用し、サーバーサイドの処理を不要とする「静的サイト」として構築する。
- サーバー費用やドメイン取得費用をかけず、GitHub Pagesを利用して完全無料でホスティングし、世界中の誰でも利用できるようにする。
- PCとスマートフォンの両方で快適に利用できる、レスポンシブデザインに対応する。

---

## 3. 機能要件

### 3.1. ユーザーインターフェース (UI)

- **テキスト入力エリア (`<textarea>`)**:
    - ユーザーが投稿したい長文テキストをペーストするための、複数行入力が可能なテキストボックスを配置する。
    - 入力エリア内には、「ここに、あなたの伝えたい文章を貼り付けてください...」のような、使い方を促すプレースホルダーテキストを表示する。

- **画像生成ボタン (`<button>`)**:
    - 「画像を出力する」というテキストが表示された、クリック可能なボタンを配置する。
    - ユーザーがこのボタンをクリックすることで、画像生成処理が開始される。
    - 処理中は、ボタンが押せないように非活性化することが望ましい（将来的な改善点）。
    - 処理完了後、ボタンのテキストを一時的に「画像を生成しました！」に変更し、ユーザーにフィードバックを与える。

- **結果表示エリア (`<div>`)**:
    - 初期状態では非表示になっている。
    - 画像生成が完了すると、このエリアが表示される。
    - 「完成！画像を右クリック（または長押し）して保存してください。」のような、ユーザーへの指示テキストを表示する。
    - 生成された画像を表示するための`<img>`タグを配置する。

### 3.2. 画像生成ロジック (JavaScript)

- **入力テキストの取得**:
    - 画像生成ボタンがクリックされた際、テキスト入力エリアから入力された文字列を取得する。
    - テキストが空の場合は、「テキストを入力してください。」というアラートを表示し、処理を中断する。

- **Canvasの利用**:
    - HTMLの`<canvas>`要素を、JavaScriptによって動的にメモリ上に作成する。

- **画像仕様**:
    - **横幅:** スマートフォンでの可読性を考慮し、`800px`に固定する。
    - **背景色:** `#FFFFFF` (白) とする。
    - **文字色:** `#000000` (黒) とする。
    - **フォント:** `18px`の、読みやすい日本語サンセリフフォント（メイリオ、ヒラギノ角ゴなど）を指定する。
    - **余白 (Padding):** 画像の上下に`40px`、左右に`50px`の余白を設ける。
    - **行間:** `32px`程度とし、読みやすさを確保する。

- **自動改行処理**:
    - 画像の描画可能領域（横幅 - 左右の余白）を超えそうになった場合、自動的に次の行に折り返す。
    - ユーザーが入力した改行コード（`\n`）も、正しく改行として処理する。

- **高さの動的計算**:
    - 自動改行処理の結果、最終的に何行になるかを計算し、全体のテキスト描画に必要な高さを算出する。
    - `キャンバスの高さ = (行数 × 行の高さ) + (上下の余白 × 2)` の式で、画像の縦サイズを決定する。

- **画像出力**:
    - すべての描画が完了したキャンバスの内容を、PNG形式のData URLに変換する。
    - 変換したData URLを、結果表示エリアにある`<img>`タグの`src`属性に設定し、画面に表示する。

---

## 4. 技術スタック

- **構造:** HTML5
- **デザイン:** CSS3
- **ロジック:** JavaScript (ES6+)
- **ホスティング:** GitHub Pages

---

## 5. 対応ブラウザ

- Google Chrome (最新版)
- Mozilla Firefox (最新版)
- Microsoft Edge (最新版)
- Safari (最新版)

---

## 6. 将来的な拡張機能（アイデア）

- フォントの種類、サイズ、色の変更機能
- 背景色の変更、または背景画像のアップロード機能
- 文字揃え（左、中央、右）の選択機能
- 画像形式（PNG, JPEG）の選択機能
- テキストの入力中に、リアルタイムでプレビューを更新する機能